var Bars=function(){function e(){var e,o;events.on("update",s);events.on("onBeat",h);for(n=new THREE.Object3D,VizHandler.getVizHolder().add(n),n.position.z=300,i=1580/t,n.rotation.z=Math.PI/4,e=0;e<t;e++)o=new THREE.MeshBasicMaterial({color:15466291}),o.color.setHSL(e/t,1,.5),mesh=new THREE.Mesh(new THREE.PlaneGeometry(r,i,u,u),o),mesh.position.y=i*e-i*t/2,mesh.scale.y=(e+1)/t*f,n.add(mesh)}function o(){for(var i,u,e,o=Math.random()*600,s=Math.random(),f=0;f<t;f++){for(i=n.children[f],u=0;u<i.geometry.vertices.length;u++)vertex=i.geometry.vertices[u],e=simplexNoise.noise(vertex.x/r*100,s)*o,vertex.z=e;i.geometry.verticesNeedUpdate=!0}}function s(){n.position.y=AudioHandler.getBPMTime()*i;for(var r=0;r<t;r++)n.children[r].scale.y=AudioHandler.getLevelsData()[r]*AudioHandler.getLevelsData()[r]+1e-5}function h(){n.rotation.z=Math.PI/4*ATUtil.getRand(0,4);n.rotation.y=ATUtil.randomRange(-Math.PI/4,Math.PI/4);o()}var n,t=16,i,f=.8,r=2e3,u=10;return{init:e}}();